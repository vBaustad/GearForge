/* Optimizer components styling (matches Rewards/Guides black-glass look) */

.cardPanel{
  /* Align with updated feature card surface */
  background: linear-gradient(180deg, #181a20, #121318);
  border: 1px solid #1f2024;
  border-radius: 10px;
  padding: 12px;
  color: var(--ink);
  box-shadow: inset 0 1px 0 rgba(255,255,255,.02);
  transition: transform .12s ease, box-shadow .12s ease, border-color .12s ease;
}

.cardPanel:hover { transform: translateY(-1px); box-shadow: 0 6px 18px rgba(0,0,0,.25); border-color: rgba(255,179,0,.18); }

/* =====================
   Paperdoll layout + slot cards
===================== */

.paperdoll{
  display:grid;
  grid-template-columns: minmax(220px,1fr) minmax(220px,1fr);
  gap:10px;
  margin-top:12px;
  /* Ensure two true columns regardless of DOM order */
  grid-auto-flow: column;
  align-items:start;
  align-content:start;
}
.paperdoll > * { min-width:0; }
.colLeft{ grid-column:1; }
.colRight{ grid-column:2; }

.weaponsRow{
  grid-column:1 / 3; /* span both columns; sits after slot cards */
  display:flex;
  gap:10px;
  justify-content:center;
  margin-top:4px;
}
.weaponSlot{ flex:0 0 500px; }

.slotCard{
  background: linear-gradient(180deg, #181a20, #121318);
  border:1px solid #1f2024;
  border-radius:10px;
  padding:10px 56px 10px 10px; /* reserve space for top-right ilvl pill */
  color:var(--ink);
  box-shadow: inset 0 1px 0 rgba(255,255,255,.02);
  position:relative; /* anchor for top-right pill */
}

/* Rarity accents (subtle border tint) */
.slotCard[data-rarity="poor"]{    border-color:#404247; }
.slotCard[data-rarity="common"]{  border-color:#2a2c31; }
.slotCard[data-rarity="uncommon"]{ border-color:rgba(34,197,94,.35); }
.slotCard[data-rarity="rare"]{     border-color:rgba(59,130,246,.35); }
.slotCard[data-rarity="epic"]{     border-color:rgba(168,85,247,.35); }
.slotCard[data-rarity="legendary"]{border-color:rgba(245,158,11,.40); }

/* Upgrade state accent */
.slotCard[data-has-upgrade]{ box-shadow: 0 0 0 1px rgba(255,179,0,.18) inset, inset 0 1px 0 rgba(255,255,255,.02); }

.slotLabel{
  font-size:11px;
  color:var(--ink-dim);
  margin: -2px 0 6px;
}

.slotItem{
  display:grid;
  grid-template-columns: 52px 1fr; /* icon | text */
  align-items:stretch; /* make icon match text column height */
  gap:10px;
}
.slotIcon{
  width:52px; height:100%; min-height:52px;
  display:flex; align-items:center; justify-content:center;
}
/* Ensure the inner <img> scales to the slot box */
.slotIcon img{ width:100%; height:100%; object-fit:cover; }

/* Right text column: name on top, pills below */
.textCol{ display:flex; flex-direction:column; gap:6px; min-height:52px; }
.textCol.isSolo{ justify-content:center; }
.pillsRow{ display:flex; align-items:center; gap:6px; flex-wrap:wrap; }

/* Weapon cards keep same internals; only width is constrained via flex above */

.nameRow{
  display:flex; align-items:center; gap:8px;
}
.nameRow.isSolo{ margin-bottom:2px; }
.itemName{ font-weight:700; line-height:1.2; }

.subRow{ margin-top:6px; display:flex; align-items:center; gap:6px; }

.upgradePill,
.ilvlPill{
  display:inline-flex; align-items:center; gap:6px;
  padding:2px 8px; border-radius:999px; font-size:12px;
  border:1px solid #2a2c31; background:#1f2126; color:var(--ink);
}
.upgradePill{ border-color: rgba(255,179,0,.35); background:rgba(255,179,0,.08); color:var(--ink); }
.upgradeDelta{ font-variant-numeric: tabular-nums; font-weight:800; }

/* Always place ilvl/upgrade pill in card corner */
.pillTopRight{ position:absolute; top:8px; right:8px; }

.upgradePillSecondary{
  display:inline-flex;
  align-items:center;
  gap:6px;
  padding:2px 8px;
  border-radius:999px;
  font-size:11px;
  line-height:1;
  border:1px solid rgba(255,179,0,.28);
  background:rgba(255,179,0,.08);
  color:var(--ink-dim);
  white-space:nowrap;
}
.craftedPill{
  display:inline-flex; align-items:center; gap:6px;
  padding:2px 8px; border-radius:999px; font-size:11px;
  border:1px solid #2a2c31; color:var(--ink-dim); background:#1b1d22;
}

.slotEmpty{
  height:52px; display:flex; align-items:center; justify-content:center;
  color:var(--ink-dim);
}

/* Item name rarity colors */
.slotCard[data-rarity="uncommon"] .itemName{ color:#22c55e; }
.slotCard[data-rarity="rare"] .itemName{ color:#60a5fa; }
.slotCard[data-rarity="epic"] .itemName{ color:#c084fc; }
.slotCard[data-rarity="legendary"] .itemName{ color:#f59e0b; }

/* =====================
   Narrative plan (upgrade list)
===================== */
.card{
  background: linear-gradient(180deg, #181a20, #121318);
  border:1px solid #1f2024;
  border-radius:10px;
  margin-top: 12px;
  padding:12px;
  color:var(--ink);
  box-shadow: inset 0 1px 0 rgba(255,255,255,.02);
}
.cardTitle{ margin:0 0 6px; font-weight:800; letter-spacing:.2px; }
.helperText{ margin:6px 0 0; color:var(--ink-dim); }

.recList{ list-style:none; margin:10px 0 0; padding:0; display:grid; gap:8px; }
.recRow{
  display:grid;
  grid-template-columns: 120px 1fr auto auto; /* slot | text | delta | pills */
  align-items:center;
  gap:10px;
  padding:8px 10px;
  border:1px solid #2a2c31;
  border-radius:8px;
  background:#15171b;
}
.slot{ font-weight:700; color:var(--ink); }
.itemName{ line-height:1.3; }
.meta{ color:var(--ink-dim); font-size:12px; }
.badge{ display:inline-block; padding:2px 6px; border:1px solid #2a2c31; border-radius:999px; font-size:11px; margin-right:6px; }

.crestBar{ display:flex; align-items:center; gap:8px; padding:6px 8px; border:1px solid #2a2c31; border-radius:8px; background:#15171b; }
.crestTotalPill{ display:inline-flex; align-items:center; gap:6px; padding:2px 8px; border-radius:999px; border:1px solid rgba(255,179,0,.25); }
.crestTotalLabel{ font-size:12px; color:var(--ink-dim); }
.crestTotalValue{ font-weight:800; }
.crestTotalsRow{ display:flex; gap:6px; }
.crestPill{ display:inline-flex; align-items:center; gap:6px; padding:2px 6px; border:1px solid #2a2c31; border-radius:999px; font-size:11px; }
.crestPillTier{ opacity:.85; }
.crestPillValue{ font-weight:800; font-variant-numeric: tabular-nums; }
